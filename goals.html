<head>
  <title>Sprint Manager</title>
</head>

<body>
    {{#if newUser}}
    <div id="signup">
     {{> newProfile}}
    </div>
    {{else}}
    <div id="stats">
    </div>
  <div id="outer">
    {{> leaderboard}}
  </div>
  {{> addTask}}
    {{/if}}
</body>

<template name="taskname">
    <option value=""+{{name}}>{{name}}</option>
</template>

<template name="leaderboard">
<div class="leaderboard">
    {{#each sprints}}
    {{> sprint}}
    {{/each}}
    <form>
        <legend>Update Task</legend>
        <select id="taskU">
            {{#each tasks}}
                {{> taskname}}
            {{/each}}
        </select>
        <label>
            Hours worked:
            <input id="hours_done" />
        </label>
        <input type="button" class="inc" value="Update Task" />
    </form>
</div>
  {{#if selected_name}}
  <div class="details">
    <div class="name">{{selected_name}}</div>
    <!--<input type="button" class="inc" value="Give 5 points" />-->
  </div>
  {{/if}}

  {{#unless selected_name}}
  <div class="none">Click a goal to select</div>
  {{/unless}}
</template>

<template name="sprint">
  <div class="sprint">
    {{#each goals}}
      {{> goal}}
    {{/each}}
  </div>

  {{#if sprint_empty}}
    {{> newGoal}}
  {{/if}}
</template>

<template name="goal">
  <div class="goal {{selected}}">
    <span class="name">{{name}}</span>
    {{#each tasks}}
        {{> task}}
    {{/each}}
  </div>
</template>

<template name="task">
    <span class="name">{{name}}</span>
    <span class="length">{{hours}} total </span>
    <span class="completed">{{hours_done}} done </span>
</template>

<template name="addTask">
    <fieldset>
    <legend>Add New Task</legend>
    <form>
        <label>
            Name:
            <input id="name" />
        </label>
        <label>
            Category:
            <input id="category" />
        </label>
        <label>
            Time:
            <input id="hours" />
        </label>
        <input type="submit" value="Add Task" />
    </form>
    </fieldset>
</template>

<template name="newGoal">
    <fieldset>
    <legend>Add New Goal</legend>
    <form>
        <label>
            Name:
            <input id="name" />
        </label>
        <input type="submit" value="Add Goal" />
    </form>
    </fieldset>
</template>

<template name="newProfile">
    <fieldset>
    <legend>Add New Profile</legend>
    <form>
        <label>
            Name:
            <input id="name" />
        </label>
        <label>
            Work hours per day:
            <input id="hpd" />
        </label>
        <label>
            Work days per week:
            <input id="dpw" />
        </label>
        <input type="submit" value="Add Profile" />
    </form>
    </fieldset>
</template>
